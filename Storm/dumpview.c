#include <GLUT/glut.h>
#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <math.h>

static double pts[441][3] = 
{{0.000000,-0.991894,0.127065},
{-0.340491,-0.936351,0.085514},
{-0.262877,-0.963882,0.042734},
{-0.178874,-0.983806,0.011413},
{-0.090533,-0.995864,-0.007689},
{0.000000,-0.999900,-0.014108},
{0.090533,-0.995864,-0.007689},
{0.178874,-0.983806,0.011413},
{0.262877,-0.963882,0.042734},
{0.340491,-0.936351,0.085514},
{-0.512868,-0.854780,0.079479},
{-0.447184,-0.894369,0.011413},
{-0.370987,-0.927468,-0.046593},
{-0.286098,-0.953659,-0.093179},
{-0.194522,-0.972609,-0.127253},
{-0.098408,-0.984076,-0.148021},
{0.000000,-0.987915,-0.154998},
{0.098408,-0.984076,-0.148021},
{0.194522,-0.972609,-0.127253},
{0.286098,-0.953659,-0.093179},
{0.370987,-0.927468,-0.046593},
{0.447184,-0.894369,0.011413},
{0.512868,-0.854780,0.079479},
{-0.613380,-0.788631,0.042734},
{-0.554255,-0.831383,-0.040044},
{-0.482502,-0.868504,-0.113543},
{-0.399792,-0.899532,-0.176091},
{-0.308026,-0.924079,-0.226270},
{-0.209297,-0.941836,-0.262945},
{-0.105842,-0.952580,-0.285286},
{0.000000,-0.956177,-0.292789},
{0.105842,-0.952580,-0.285286},
{0.209297,-0.941836,-0.262945},
{0.308026,-0.924079,-0.226270},
{0.399792,-0.899532,-0.176091},
{0.482502,-0.868504,-0.113543},
{0.554255,-0.831383,-0.040044},
{0.613380,-0.788631,0.042734},
{-0.706782,-0.706782,0.030282},
{-0.657051,-0.750916,-0.066400},
{-0.592749,-0.790332,-0.154998},
{-0.515342,-0.824547,-0.233550},
{-0.426569,-0.853139,-0.300321},
{-0.328408,-0.875754,-0.353840},
{-0.223028,-0.892112,-0.392931},
{-0.112751,-0.902009,-0.416733},
{0.000000,-0.905322,-0.424726},
{0.112751,-0.902009,-0.416733},
{0.223028,-0.892112,-0.392931},
{0.328408,-0.875754,-0.353840},
{0.426569,-0.853139,-0.300321},
{0.515342,-0.824547,-0.233550},
{0.592749,-0.790332,-0.154998},
{0.657051,-0.750916,-0.066400},
{0.706782,-0.706782,0.030282},
{-0.788631,-0.613380,0.042734},
{-0.750916,-0.657051,-0.066400},
{-0.696932,-0.696932,-0.169033},
{-0.627891,-0.732539,-0.262945},
{-0.545314,-0.763440,-0.346109},
{-0.451005,-0.789258,-0.416733},
{-0.347004,-0.809676,-0.473301},
{-0.235555,-0.824442,-0.514596},
{-0.119054,-0.833376,-0.539732},
{0.000000,-0.836366,-0.548172},
{0.119054,-0.833376,-0.539732},
{0.235555,-0.824442,-0.514596},
{0.347004,-0.809676,-0.473301},
{0.451005,-0.789258,-0.416733},
{0.545314,-0.763440,-0.346109},
{0.627891,-0.732539,-0.262945},
{0.696932,-0.696932,-0.169033},
{0.750916,-0.657051,-0.066400},
{0.788631,-0.613380,0.042734},
{-0.854780,-0.512868,0.079479},
{-0.831383,-0.554255,-0.040044},
{-0.790332,-0.592749,-0.154998},
{-0.732539,-0.627891,-0.262945},
{-0.659259,-0.659259,-0.361600},
{-0.572063,-0.686476,-0.448881},
{-0.472808,-0.709212,-0.522945},
{-0.363595,-0.727190,-0.582231},
{-0.246730,-0.740191,-0.625493},
{-0.124676,-0.748056,-0.651820},
{0.000000,-0.750688,-0.660657},
{0.124676,-0.748056,-0.651820},
{0.246730,-0.740191,-0.625493},
{0.363595,-0.727190,-0.582231},
{0.472808,-0.709212,-0.522945},
{0.572063,-0.686476,-0.448881},
{0.659259,-0.659259,-0.361600},
{0.732539,-0.627891,-0.262945},
{0.790332,-0.592749,-0.154998},
{0.831383,-0.554255,-0.040044},
{0.854780,-0.512868,0.079479},
{-0.894369,-0.447184,0.011413},
{-0.868504,-0.482502,-0.113543},
{-0.824547,-0.515342,-0.233550},
{-0.763440,-0.545314,-0.346109},
{-0.686476,-0.572063,-0.448881},
{-0.595268,-0.595268,-0.539732},
{-0.491720,-0.614650,-0.616779},
{-0.377984,-0.629974,-0.678425},
{-0.256422,-0.641055,-0.723393},
{-0.129551,-0.647757,-0.750751},
{0.000000,-0.650001,-0.759933},
{0.129551,-0.647757,-0.750751},
{0.256422,-0.641055,-0.723393},
{0.377984,-0.629974,-0.678425},
{0.491720,-0.614650,-0.616779},
{0.595268,-0.595268,-0.539732},
{0.686476,-0.572063,-0.448881},
{0.763440,-0.545314,-0.346109},
{0.824547,-0.515342,-0.233550},
{0.868504,-0.482502,-0.113543},
{0.894369,-0.447184,0.011413},
{-0.936351,-0.340491,0.085514},
{-0.927468,-0.370987,-0.046593},
{-0.899532,-0.399792,-0.176091},
{-0.853139,-0.426569,-0.300321},
{-0.789258,-0.451005,-0.416733},
{-0.709212,-0.472808,-0.522945},
{-0.614650,-0.491720,-0.616779},
{-0.507514,-0.507514,-0.696318},
{-0.390001,-0.520001,-0.759933},
{-0.264515,-0.529029,-0.806325},
{-0.133623,-0.534490,-0.834545},
{0.000000,-0.536318,-0.844016},
{0.133623,-0.534490,-0.834545},
{0.264515,-0.529029,-0.806325},
{0.390001,-0.520001,-0.759933},
{0.507514,-0.507514,-0.696318},
{0.614650,-0.491720,-0.616779},
{0.709212,-0.472808,-0.522945},
{0.789258,-0.451005,-0.416733},
{0.853139,-0.426569,-0.300321},
{0.899532,-0.399792,-0.176091},
{0.927468,-0.370987,-0.046593},
{0.936351,-0.340491,0.085514},
{-0.963882,-0.262877,0.042734},
{-0.953659,-0.286098,-0.093179},
{-0.924079,-0.308026,-0.226270},
{-0.875754,-0.328408,-0.353840},
{-0.809676,-0.347004,-0.473301},
{-0.727190,-0.363595,-0.582231},
{-0.629974,-0.377984,-0.678425},
{-0.520001,-0.390001,-0.759933},
{-0.399500,-0.399500,-0.825106},
{-0.270912,-0.406368,-0.872624},
{-0.136841,-0.410522,-0.901525},
{0.000000,-0.411912,-0.911224},
{0.136841,-0.410522,-0.901525},
{0.270912,-0.406368,-0.872624},
{0.399500,-0.399500,-0.825106},
{0.520001,-0.390001,-0.759933},
{0.629974,-0.377984,-0.678425},
{0.727190,-0.363595,-0.582231},
{0.809676,-0.347004,-0.473301},
{0.875754,-0.328408,-0.353840},
{0.924079,-0.308026,-0.226270},
{0.953659,-0.286098,-0.093179},
{0.963882,-0.262877,0.042734},
{-0.983806,-0.178874,0.011413},
{-0.972609,-0.194522,-0.127253},
{-0.941836,-0.209297,-0.262945},
{-0.892112,-0.223028,-0.392931},
{-0.824442,-0.235555,-0.514596},
{-0.740191,-0.246730,-0.625493},
{-0.641055,-0.256422,-0.723393},
{-0.529029,-0.264515,-0.806325},
{-0.406368,-0.270912,-0.872624},
{-0.275537,-0.275537,-0.920955},
{-0.139167,-0.278334,-0.950349},
{0.000000,-0.279270,-0.960212},
{0.139167,-0.278334,-0.950349},
{0.275537,-0.275537,-0.920955},
{0.406368,-0.270912,-0.872624},
{0.529029,-0.264515,-0.806325},
{0.641055,-0.256422,-0.723393},
{0.740191,-0.246730,-0.625493},
{0.824442,-0.235555,-0.514596},
{0.892112,-0.223028,-0.392931},
{0.941836,-0.209297,-0.262945},
{0.972609,-0.194522,-0.127253},
{0.983806,-0.178874,0.011413},
{-0.995864,-0.090533,-0.007689},
{-0.984076,-0.098408,-0.148021},
{-0.952580,-0.105842,-0.285286},
{-0.902009,-0.112751,-0.416733},
{-0.833376,-0.119054,-0.539732},
{-0.748056,-0.124676,-0.651820},
{-0.647757,-0.129551,-0.750751},
{-0.534490,-0.133623,-0.834545},
{-0.410522,-0.136841,-0.901525},
{-0.278334,-0.139167,-0.950349},
{-0.140574,-0.140574,-0.980040},
{0.000000,-0.141045,-0.990003},
{0.140574,-0.140574,-0.980040},
{0.278334,-0.139167,-0.950349},
{0.410522,-0.136841,-0.901525},
{0.534490,-0.133623,-0.834545},
{0.647757,-0.129551,-0.750751},
{0.748056,-0.124676,-0.651820},
{0.833376,-0.119054,-0.539732},
{0.902009,-0.112751,-0.416733},
{0.952580,-0.105842,-0.285286},
{0.984076,-0.098408,-0.148021},
{0.995864,-0.090533,-0.007689},
{-0.991894,-0.000000,0.127065},
{-0.999900,-0.000000,-0.014108},
{-0.987915,-0.000000,-0.154998},
{-0.956177,-0.000000,-0.292789},
{-0.905322,-0.000000,-0.424726},
{-0.836366,-0.000000,-0.548172},
{-0.750688,-0.000000,-0.660657},
{-0.650001,-0.000000,-0.759933},
{-0.536318,-0.000000,-0.844016},
{-0.411912,-0.000000,-0.911224},
{-0.279270,-0.000000,-0.960212},
{-0.141045,-0.000000,-0.990003},
{0.000000,0.000000,-1.000000},
{0.141045,-0.000000,-0.990003},
{0.279270,-0.000000,-0.960212},
{0.411912,-0.000000,-0.911224},
{0.536318,-0.000000,-0.844016},
{0.650001,-0.000000,-0.759933},
{0.750688,-0.000000,-0.660657},
{0.836366,-0.000000,-0.548172},
{0.905322,-0.000000,-0.424726},
{0.956177,-0.000000,-0.292789},
{0.987915,-0.000000,-0.154998},
{0.999900,-0.000000,-0.014108},
{0.991894,-0.000000,0.127065},
{-0.995864,0.090533,-0.007689},
{-0.984076,0.098408,-0.148021},
{-0.952580,0.105842,-0.285286},
{-0.902009,0.112751,-0.416733},
{-0.833376,0.119054,-0.539732},
{-0.748056,0.124676,-0.651820},
{-0.647757,0.129551,-0.750751},
{-0.534490,0.133623,-0.834545},
{-0.410522,0.136841,-0.901525},
{-0.278334,0.139167,-0.950349},
{-0.140574,0.140574,-0.980040},
{0.000000,0.141045,-0.990003},
{0.140574,0.140574,-0.980040},
{0.278334,0.139167,-0.950349},
{0.410522,0.136841,-0.901525},
{0.534490,0.133623,-0.834545},
{0.647757,0.129551,-0.750751},
{0.748056,0.124676,-0.651820},
{0.833376,0.119054,-0.539732},
{0.902009,0.112751,-0.416733},
{0.952580,0.105842,-0.285286},
{0.984076,0.098408,-0.148021},
{0.995864,0.090533,-0.007689},
{-0.983806,0.178874,0.011413},
{-0.972609,0.194522,-0.127253},
{-0.941836,0.209297,-0.262945},
{-0.892112,0.223028,-0.392931},
{-0.824442,0.235555,-0.514596},
{-0.740191,0.246730,-0.625493},
{-0.641055,0.256422,-0.723393},
{-0.529029,0.264515,-0.806325},
{-0.406368,0.270912,-0.872624},
{-0.275537,0.275537,-0.920955},
{-0.139167,0.278334,-0.950349},
{0.000000,0.279270,-0.960212},
{0.139167,0.278334,-0.950349},
{0.275537,0.275537,-0.920955},
{0.406368,0.270912,-0.872624},
{0.529029,0.264515,-0.806325},
{0.641055,0.256422,-0.723393},
{0.740191,0.246730,-0.625493},
{0.824442,0.235555,-0.514596},
{0.892112,0.223028,-0.392931},
{0.941836,0.209297,-0.262945},
{0.972609,0.194522,-0.127253},
{0.983806,0.178874,0.011413},
{-0.963882,0.262877,0.042734},
{-0.953659,0.286098,-0.093179},
{-0.924079,0.308026,-0.226270},
{-0.875754,0.328408,-0.353840},
{-0.809676,0.347004,-0.473301},
{-0.727190,0.363595,-0.582231},
{-0.629974,0.377984,-0.678425},
{-0.520001,0.390001,-0.759933},
{-0.399500,0.399500,-0.825106},
{-0.270912,0.406368,-0.872624},
{-0.136841,0.410522,-0.901525},
{0.000000,0.411912,-0.911224},
{0.136841,0.410522,-0.901525},
{0.270912,0.406368,-0.872624},
{0.399500,0.399500,-0.825106},
{0.520001,0.390001,-0.759933},
{0.629974,0.377984,-0.678425},
{0.727190,0.363595,-0.582231},
{0.809676,0.347004,-0.473301},
{0.875754,0.328408,-0.353840},
{0.924079,0.308026,-0.226270},
{0.953659,0.286098,-0.093179},
{0.963882,0.262877,0.042734},
{-0.936351,0.340491,0.085514},
{-0.927468,0.370987,-0.046593},
{-0.899532,0.399792,-0.176091},
{-0.853139,0.426569,-0.300321},
{-0.789258,0.451005,-0.416733},
{-0.709212,0.472808,-0.522945},
{-0.614650,0.491720,-0.616779},
{-0.507514,0.507514,-0.696318},
{-0.390001,0.520001,-0.759933},
{-0.264515,0.529029,-0.806325},
{-0.133623,0.534490,-0.834545},
{0.000000,0.536318,-0.844016},
{0.133623,0.534490,-0.834545},
{0.264515,0.529029,-0.806325},
{0.390001,0.520001,-0.759933},
{0.507514,0.507514,-0.696318},
{0.614650,0.491720,-0.616779},
{0.709212,0.472808,-0.522945},
{0.789258,0.451005,-0.416733},
{0.853139,0.426569,-0.300321},
{0.899532,0.399792,-0.176091},
{0.927468,0.370987,-0.046593},
{0.936351,0.340491,0.085514},
{-0.894369,0.447184,0.011413},
{-0.868504,0.482502,-0.113543},
{-0.824547,0.515342,-0.233550},
{-0.763440,0.545314,-0.346109},
{-0.686476,0.572063,-0.448881},
{-0.595268,0.595268,-0.539732},
{-0.491720,0.614650,-0.616779},
{-0.377984,0.629974,-0.678425},
{-0.256422,0.641055,-0.723393},
{-0.129551,0.647757,-0.750751},
{0.000000,0.650001,-0.759933},
{0.129551,0.647757,-0.750751},
{0.256422,0.641055,-0.723393},
{0.377984,0.629974,-0.678425},
{0.491720,0.614650,-0.616779},
{0.595268,0.595268,-0.539732},
{0.686476,0.572063,-0.448881},
{0.763440,0.545314,-0.346109},
{0.824547,0.515342,-0.233550},
{0.868504,0.482502,-0.113543},
{0.894369,0.447184,0.011413},
{-0.854780,0.512868,0.079479},
{-0.831383,0.554255,-0.040044},
{-0.790332,0.592749,-0.154998},
{-0.732539,0.627891,-0.262945},
{-0.659259,0.659259,-0.361600},
{-0.572063,0.686476,-0.448881},
{-0.472808,0.709212,-0.522945},
{-0.363595,0.727190,-0.582231},
{-0.246730,0.740191,-0.625493},
{-0.124676,0.748056,-0.651820},
{0.000000,0.750688,-0.660657},
{0.124676,0.748056,-0.651820},
{0.246730,0.740191,-0.625493},
{0.363595,0.727190,-0.582231},
{0.472808,0.709212,-0.522945},
{0.572063,0.686476,-0.448881},
{0.659259,0.659259,-0.361600},
{0.732539,0.627891,-0.262945},
{0.790332,0.592749,-0.154998},
{0.831383,0.554255,-0.040044},
{0.854780,0.512868,0.079479},
{-0.788631,0.613380,0.042734},
{-0.750916,0.657051,-0.066400},
{-0.696932,0.696932,-0.169033},
{-0.627891,0.732539,-0.262945},
{-0.545314,0.763440,-0.346109},
{-0.451005,0.789258,-0.416733},
{-0.347004,0.809676,-0.473301},
{-0.235555,0.824442,-0.514596},
{-0.119054,0.833376,-0.539732},
{0.000000,0.836366,-0.548172},
{0.119054,0.833376,-0.539732},
{0.235555,0.824442,-0.514596},
{0.347004,0.809676,-0.473301},
{0.451005,0.789258,-0.416733},
{0.545314,0.763440,-0.346109},
{0.627891,0.732539,-0.262945},
{0.696932,0.696932,-0.169033},
{0.750916,0.657051,-0.066400},
{0.788631,0.613380,0.042734},
{-0.706782,0.706782,0.030282},
{-0.657051,0.750916,-0.066400},
{-0.592749,0.790332,-0.154998},
{-0.515342,0.824547,-0.233550},
{-0.426569,0.853139,-0.300321},
{-0.328408,0.875754,-0.353840},
{-0.223028,0.892112,-0.392931},
{-0.112751,0.902009,-0.416733},
{0.000000,0.905322,-0.424726},
{0.112751,0.902009,-0.416733},
{0.223028,0.892112,-0.392931},
{0.328408,0.875754,-0.353840},
{0.426569,0.853139,-0.300321},
{0.515342,0.824547,-0.233550},
{0.592749,0.790332,-0.154998},
{0.657051,0.750916,-0.066400},
{0.706782,0.706782,0.030282},
{-0.613380,0.788631,0.042734},
{-0.554255,0.831383,-0.040044},
{-0.482502,0.868504,-0.113543},
{-0.399792,0.899532,-0.176091},
{-0.308026,0.924079,-0.226270},
{-0.209297,0.941836,-0.262945},
{-0.105842,0.952580,-0.285286},
{0.000000,0.956177,-0.292789},
{0.105842,0.952580,-0.285286},
{0.209297,0.941836,-0.262945},
{0.308026,0.924079,-0.226270},
{0.399792,0.899532,-0.176091},
{0.482502,0.868504,-0.113543},
{0.554255,0.831383,-0.040044},
{0.613380,0.788631,0.042734},
{-0.512868,0.854780,0.079479},
{-0.447184,0.894369,0.011413},
{-0.370987,0.927468,-0.046593},
{-0.286098,0.953659,-0.093179},
{-0.194522,0.972609,-0.127253},
{-0.098408,0.984076,-0.148021},
{0.000000,0.987915,-0.154998},
{0.098408,0.984076,-0.148021},
{0.194522,0.972609,-0.127253},
{0.286098,0.953659,-0.093179},
{0.370987,0.927468,-0.046593},
{0.447184,0.894369,0.011413},
{0.512868,0.854780,0.079479},
{-0.340491,0.936351,0.085514},
{-0.262877,0.963882,0.042734},
{-0.178874,0.983806,0.011413},
{-0.090533,0.995864,-0.007689},
{0.000000,0.999900,-0.014108},
{0.090533,0.995864,-0.007689},
{0.178874,0.983806,0.011413},
{0.262877,0.963882,0.042734},
{0.340491,0.936351,0.085514},
{0.000000,0.991894,0.127065}};

static int width=1024;
static int height=1024;

int iters=0;

void init(void)
{    
  glClearColor (0.0, 0.0, 0.0, 0.0);
  glShadeModel(GL_SMOOTH);
}

void keyboard(unsigned char key, int x, int y)
{ 
   switch (key) {
      case 27:  exit(0);
                break;
      case 'x': iters++;
                break;
      default:  break;
   }
}   

void reshape(int w, int h)
{
   width = w; height = h;
   glViewport(0, 0, (GLsizei) w, (GLsizei) h);
}

void draw_curtains()
{
  int i, j, c, frame;
  double col;
  int x, y, z;

  glMatrixMode(GL_PROJECTION);
  glLoadIdentity();
  gluPerspective(30, (GLfloat) width/(GLfloat) height, 0.01, 250.0);
  glMatrixMode(GL_MODELVIEW);
  glLoadIdentity();
  gluLookAt(0.0, 3.0, 3.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0); 
  glRotatef(5.0*iters, 0.0, 1.0, 0.0);

  glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

  glBegin(GL_LINES);
   for ( x=0 ; x<441 ; x++ ) {
     glVertex3f(0.5*pts[x][0], 0.5*pts[x][1], 0.5*pts[x][2]);
     glVertex3f(pts[x][0], pts[x][1], pts[x][2]);
   }
  glEnd();
  glFlush();

}

void idle(void)
{
  FILE *fp;
  int  i;
  char filename[80];

  glutPostRedisplay();
}

int main(int argc, char** argv)
{
   glutInit(&argc, argv);
   glutInitDisplayMode(GLUT_RGBA | GLUT_DEPTH | GLUT_ALPHA);
   glutInitWindowSize(width, height);
   glutInitWindowPosition(0, 0);
   glutCreateWindow(argv[0]);
   init();
   glutReshapeFunc(reshape);
   glutKeyboardFunc(keyboard);
   glutDisplayFunc(draw_curtains);
   glutIdleFunc(idle);
   glutMainLoop();
   return 0; 
}
